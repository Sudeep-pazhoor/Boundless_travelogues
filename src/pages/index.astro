---
import Layout from "../layouts/Layout.astro";
import Preloader from "../components/Preloader.jsx";
import CommitmentsSection from "../components/CommitmentsSection.jsx";
---

<Layout title="Boundless Travelogues - Unforgettable Journeys">
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500;600;700&display=swap"
    rel="stylesheet"
  />

  <style>
    /* Critical CSS for Preloader Placeholder */
    #preloader-placeholder {
      position: fixed;
      inset: 0;
      background: #000;
      z-index: 9998;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: opacity 0.5s ease;
    }
    .spinner {
      width: 50px;
      height: 50px;
      border: 3px solid rgba(0, 212, 255, 0.3);
      border-radius: 50%;
      border-top-color: #00d4ff;
      animation: spin 1s ease-in-out infinite;
    }
    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }
  </style>

  <!-- Static placeholder shown while Three.js loads -->
  <div id="preloader-placeholder">
    <div class="spinner"></div>
  </div>

  <Preloader client:only="react" />

  <div class="home-content" style={{ marginTop: "80px", marginBottom: "40px" }}>
    <CommitmentsSection client:visible />
  </div>

  <style>
    @media (max-width: 768px) {
      .home-content {
        margin-top: 60px !important;
        margin-bottom: 30px !important;
      }
    }

    @media (max-width: 576px) {
      .home-content {
        margin-top: 50px !important;
        margin-bottom: 25px !important;
      }
    }
  </style>
</Layout>
